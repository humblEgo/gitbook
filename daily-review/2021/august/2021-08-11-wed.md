# 2021-08-11\(Wed\)

## Facts \(사실, 객관\)

* 부트캠프 7주차를 진행했다.
* 새로운 과제를 진행했다.

## Feelings \(느낌, 주관\)

* 게더 제안한 것이 이렇게 빠르게 적용되다니 놀랍다! 코로나가 장기화되니 기민하게 대처하는 모습.. 우리 회사 암만 생각해도 좋은 것 같다ㅎㅎ
* 요구사항이 명확하지 않으면 좀 더 적극적으로 얘기를 나누고, 체크해달라했어야 했다. 내가 본 개발 후 추가로 구현하려고 했던 기능이 필수적인 기능이었고, 내가 구현하려고 했던 기능이 필요없는 기능이었다. 후자는 화면에 표시하고, 페이지네이션하는 기능이었고 어느정도 개발이 되긴 했었는데, 필요없는 기능이라하여 로컬에 저장만 하였다.
* 이 정도는 쉽지!하고 시작했는데, 생각보다 시행착오가 있었다. axlsx gem, html form, ajax 중 어느 요소의 문제인지는 모르겠으나, XMLHttpRequest를 할 때만 전송파일이 깨지지않는다니;; 한번 시간내서 문제를 파봐야겠다. 그래도 어쨎든 오늘이 가기전에 문제를 해결해서 다행이다ㅎㅎ 

## Findings \(배운 점\)

* rails에서 ajax 쓰는 방식에 익숙해졌다.
* 검색할 값을 리스팅한 csv파일을 업로드하고, 서버에서는 해당 값으로 검색한 다음, 결과를 xlsx로 다운받을 수 있게끔 구현해야했다. 처음 생각한 것은, S3로 업로드한 뒤, 결과값을 내려받기 위해 GET요청하면, 기 업로드된 S3에서 파일을 내려받아서 검색에 활용하는 것이었다. 그러나 따로 배치돌릴 것도 아닌데 단순 검색을 위한 파일을 S3에 업로드하는 것이 영 마음에 들지 않아서, csv파일을 서버에 직접 전송하는 방식을 검토하였다.
* csv 파일을 서버에 전송하는 방법은 GET 메소드로는 불가하고, POST로만 해야한다. 처음엔 두 가지 방법을 고려했다. 1\) form 2\) ajax 
* 그런데 두 방식 모두 서버에 전송은 정상적으로 되지만, 서버 측에서 응답 받은 xlsx 파일을 다운로드할 때 파일이 깨지는 등의 이슈가 있었다. 결국 제 3의 방법인  XMLHttpRequest를 활용해서 해결했다.

## Affimation \(자기 선언\)

* 나는 요구사항을 먼저 물어보고, 확실히 파악해내는 개발자다.

